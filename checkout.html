<!DOCTYPE html>
<html lang="es">
<head>
    <title>Checkout | Insuma SRL</title>
</head>

<body class="theme-light">
<!-- CONTENT -->

  <div class="container">
    <main>
        <h1>Checkout</h1>
        <form
        action="https://formspree.io/f/mvgrnrvb"
        method="POST"
        id="checkout"
        >
        <div class="formcheckout">

            <div>
            <textarea name="carrito" id="carritoData" style="display:none;" rows="10" cols="120"></textarea>
            </div>
            
            <div>
            <textarea name="total" id="carritoTotal" style="display:none;" rows="10" cols="120"></textarea>
            </div>
            
            <div>
            <label for="nombre">Nombre:</label>
            <input type="text" id="nombre" name="nombre" placeholder="Nombre">
            </div>

            <div>
            <label for="apellido">Apellido:</label>
            <input type="text" id="apellido" name="apellido" placeholder="Apellido">
            </div>

            <div>
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" placeholder="ejemplo@correo.com">
            </div>

            <div>
            <label for="message">Mensaje:</label>
            <textarea id="message" name="message" rows="4" cols="50" placeholder="Escribe tu mensaje..."></textarea>
            </div>

            <button type="submit" id="botonEnviar">Confirmar compra</button>
            
        </div>
        </form>

    </main>
</div>



<!-- END-CONTENT -->
<footer></footer>
<!-- Gestión de template: -->
<script src="./js/injectHtml.js" ></script>
<!-- Gestión de carrito: -->
<script src="./js/vaciarCarrito.js" ></script>
<script src="./js/cargarCarrito.js" ></script>
<script src="./js/enviarFormulario.js" ></script>
<script>
    document.addEventListener('DOMContentLoaded', async () => {
        await injector('./template/head.html','head');
        await injector('./template/header.html','body');
        await injector('./template/footer.html','footer');
      // Gestion Carrito de compras: Vaciar
      
        const botonVaciar = document.querySelector('#btnVaciarCarrito');
        if (botonVaciar)
        {
            botonVaciar.addEventListener('click', vaciarCarrito);
        }
        else 
        {
            console.error("No se encontró el botón con id 'btnVaciarCarrito'");
        }



        // Agregamos un evento para el boton enviar formulario
        const botonEnviar = document.querySelector('#botonEnviar');
        if (botonEnviar)
        {
            botonEnviar.addEventListener('click', enviarFormulario);
        }
        else
        {   
            console.log("ADVERTENCIA: No se encontró el botón con ID 'botonEnviar'.");
        }

    });
</script>
</body>

</html>